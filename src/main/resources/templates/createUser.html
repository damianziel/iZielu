<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Spring Security Example </title>

    <script type="text/plain" src="/resources/js/jquery-3.1.0.min.js"
            th:src="@{/resources/js/jquery-3.1.0.min.js}"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          crossorigin="anonymous"/>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" crossorigin="anonymous"></script>

</head>

<body>

<th:if test="${isUserSaved == true}">
    <div style="border: solid 2px">
        New user: <br/>
        Name: ${user.firstName} <br/>
        Typ: ${user.lastName} <br/>
    </div>
</th:if>

<div class="container">
    <div th:replace="fragments/header :: 'header'"></div>

    <h2>
        <span th::if="${user.isNew}">New </span> User
    </h2>
    <form  th:action="@{/createUser}"  th:object="${user}" method="post" class="form-horizontal">
        <label class="control-label">First Name</label>
        <div class="controls">
            <input type="text" th:field="${user.firstName}"/>
            <span class="help-inline" th:errors="*{firstName}">[error]</span>
        </div>
        <label class="control-label">Last Name</label>
        <div class="controls">
            <input type="text" th:field="${user.lastName}"/>
            <span class="help-inline" th:errors="*{lastName}">[error]</span>
        </div>
        <label class="control-label">Login</label>
        <div class="controls">
            <input type="text" th:field="${user.login}"/>
            <span class="help-inline" th:errors="${user.login}">[error]</span>
        </div>
        <label class="control-label">Password</label>
        <div class="controls">
            <input type="password" th:field="${user.password}"/>
            <span class="help-inline" th:errors="${user.password}">[error]</span>
        </div>
        <label class="control-label">Email</label>
        <div class="controls">
            <input type="email" th:field="${user.email}"/>
            <span class="help-inline" th:errors="${user.email}">[error]</span>
        </div>
        <label class="control-label">Telephone</label>
        <div class="controls">
            <input type="tel" th:field="${user.telephone}"/>
            <span class="help-inline" th:errors="${user.telephone}">[error]</span>
        </div>

        <div class="form-actions">
            <button th:if="${user.isNew}" type="submit">Add User</button>
            <button th:unless="${user.isNew}" type="submit">Update User</button>
        </div>
    </form>
</div>

<table th:replace="fragments/footer :: footer" class="footer">

</table>
</body>
</html>
